<div class="container">
  <div class="left-panel">
    <form [formGroup]="clienteForm" (ngSubmit)="onSubmit()" class="cliente-form">
      <mat-form-field appearance="fill">
        <mat-label>Nombre</mat-label>
        <input matInput formControlName="nombre" placeholder="Nombre">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Email</mat-label>
        <input matInput formControlName="email" type="email" placeholder="Email">
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Teléfono</mat-label>
        <input matInput formControlName="telefono" placeholder="Teléfono">
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit">Guardar Cliente</button>
    </form>
  </div>

  <div class="right-panel">
    <h2>Lista de Clientes</h2>
      <!-- Buscador de clientes -->
      <mat-form-field appearance="fill">
        <mat-label>Buscar Cliente</mat-label>
        <input matInput placeholder="Buscar cliente" (input)="actualizarFiltro($event)" />
      </mat-form-field>

    <div *ngIf="clientesFiltrados$ | async as clientes; else loading">
      <!-- Muestra clientes como tarjetas en vez de tabla -->
      <div *ngFor="let cliente of clientes" class="cliente-card">
        <h3>{{ cliente.nombre }}</h3>
        <p>Email: {{ cliente.email }}</p>
        <p>Teléfono: {{ cliente.telefono }}</p>
        <div class="actions">
          <button mat-button color="warn" (click)="deleteCliente(cliente.id)">Eliminar</button>
          <button mat-button (click)="editCliente(cliente)">Editar</button>
        </div>
      </div>
    </div>
    <ng-template #loading>
      Cargando clientes...
    </ng-template>
  </div>
</div>
